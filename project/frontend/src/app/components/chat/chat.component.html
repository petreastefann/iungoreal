<div id="chat-container">
	<div id="left-section">
		<div id="left-section-header">
			<p>Chat Rooms</p>
			<button class="right-sided" (click)="toggleAddNewChatroom()">add new chatroom</button>
			<div class="right-sided" class="vertical-list" *ngIf="addingNewChatroom">
				<button>create group</button>
				<ng-container *ngFor="let friendUsername of friendsUsernamesWithNoChats">
					<button (click)="createNewChatroom(friendUsername)">{{ friendUsername }}</button>
				</ng-container>
			</div>

		</div>
		<div id="left-section-body" class="vertical-list">
			<!-- TODO: have three menus (dm, group, regional) and when one is opened fetch the conversations in order of Chatroom.lastMessageTime -->
			<ng-container *ngFor="let dmChatroom of dmChatrooms">
				<button (click)="openChatroom(dmChatroom)">{{ dmChatroom }}</button>
			</ng-container>

		</div>
	</div>
	<div id="right-section">
		<div *ngIf="chatroomOpened">
			<div id="right-section-header">
				<p>{{ chatroomName }}</p>
				<button (click)="closeChatroom()"><i class="close-button material-icons">close</i></button>
			</div>
			<div id="right-section-body">
				<div class="messages">

				</div>
				<div class="input">
					<input type="text" [(ngModel)]="messageToSend" (keyup.enter)="sendMessage()" />
					<button (click)="sendMessage()">Send</button>
				</div>
			</div>
			<!-- <div *ngIf="isWebsocketConnected()">
				<div *ngFor="let message of receivedMessages">
					<p> <span style="font-weight: bold">{{ message.username }}</span>: {{ message.message }} <span
							style="font-size: 0.7em; font-style: italic"> at {{ message.createdAt }}</span></p>
				</div>
			</div> -->
		</div>
	</div>
</div>